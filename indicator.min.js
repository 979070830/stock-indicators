var Indicator=function(){var r=function(r){var a,s=[],u=r.length;for(var t=0;t<u;t++){var n=0,e=r[t];if(t!=0){var i=s[t-1];if(e[0]>=a[0]){n=i+e[1]}else{n=i-e[1]}}s.push(n);a=e}return s};var a=function(r,a,s){return(r*(s-1)+a*2)/(s+1)};var s=function(r,a){return(r*8+a*2)/10};var u=function(r){var u=[],t=[],n=[],e=[],i=[];for(var h=0;h<r.length;h++){var v=r[h];if(h==0){u.push(v);t.push(v);e.push(0)}else{u.push(a(u[h-1],v,12));t.push(a(t[h-1],v,26))}n.push(u[h]-t[h]);if(h!=0){e.push(s(e[h-1],n[h]))}i.push((n[h]-e[h])*2)}return{diffs:n,deas:e,bars:i}};var t=function(r){var a=r[0][0],s=r[0][1];for(var u=0;u<r.length;u++){var t=r[u],n=t[0],e=t[1];if(n>a){a=n}if(e<s){s=e}}return[a,s]};var n=function(r){var a=[],s=9,u=[];var n=[],e=[],i=[];var h,v,f,l;var p,o,c;for(var d=0;d<r.length;d++){var S=r[d],g=S[2];a.push(S);p=t(a);o=p[0];c=p[1];if(o==c){u.push(0)}else{u.push((g-c)/(o-c)*100)}if(a.length==s){a.shift()}if(d==0){h=v=u[d]}f=2/3*h+1/3*u[d];n.push(f);h=f;l=2/3*v+1/3*f;e.push(l);v=l;i.push(3*f-2*l)}return{k:n,d:e,j:i}};var e=function(r){var a=20,s=a-1,u=0,t=0;var n=[],e=[],i=[];for(var h=0;h<r.length;h++){var v=r[h],f,l,p,o;u+=v;if(h>=s){u=u-t;f=u/a;e.push(f);p=h-s;t=r[p];o=r.slice(p,p+a).reduce(function(r,a){return r+Math.pow(a-f,2)},0);l=Math.sqrt(o/a);n.push(f+2*l);i.push(f-2*l)}else{n.push(null);e.push(null);i.push(null)}}return{upper:n,mid:e,lower:i}};var i=function(r){var a=r[0];var s=[6,12,24],u={};for(var t=0;t<r.length;t++){var n=r[t];var e=Math.max(n-a,0),i=Math.abs(n-a);for(var h=0;h<s.length;h++){var v=s[h];if(!u.hasOwnProperty("rsi"+v)){u["lastSm"+v]=u["lastSa"+v]=0;u["rsi"+v]=[0]}else{u["lastSm"+v]=(e+(v-1)*u["lastSm"+v])/v;u["lastSa"+v]=(i+(v-1)*u["lastSa"+v])/v;u["rsi"+v].push(u["lastSm"+v]/u["lastSa"+v]*100)}}a=n}return{rsi6:u["rsi6"],rsi12:u["rsi12"],rsi24:u["rsi24"]}};return{OBV:r,MACD:u,KDJ:n,BOLL:e,RSI:i}}();if(module){module.exports=Indicator}