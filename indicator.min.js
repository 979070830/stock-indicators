var Indicator=function(){var r=function(r){var a,s=[],t=r.length;for(var u=0;u<t;u++){var n=0,e=r[u];if(u!=0){var i=s[u-1];if(e[0]>=a[0]){n=i+e[1]}else{n=i-e[1]}}s.push(n);a=e}return s};var a=function(r,a,s){return(r*(s-1)+a*2)/(s+1)};var s=function(r,a){return(r*8+a*2)/10};var t=function(r){var t=[],u=[],n=[],e=[],i=[];for(var h=0;h<r.length;h++){var v=r[h];if(h==0){t.push(v);u.push(v);e.push(0)}else{t.push(a(t[h-1],v,12));u.push(a(u[h-1],v,26))}n.push(t[h]-u[h]);if(h!=0){e.push(s(e[h-1],n[h]))}i.push((n[h]-e[h])*2)}return{diffs:n,deas:e,bars:i}};var u=function(r){var a=r[0][0],s=r[0][1];for(var t=0;t<r.length;t++){var u=r[t],n=u[0],e=u[1];if(n>a){a=n}if(e<s){s=e}}return[a,s]};var n=function(r){var a=[],s=9,t=[];var n=[],e=[],i=[];var h,v,f,p;var l,o,c;for(var S=0;S<r.length;S++){var d=r[S],g=d[2];a.push(d);l=u(a);o=l[0];c=l[1];if(o==c){t.push(0)}else{t.push((g-c)/(o-c)*100)}if(a.length==s){a.shift()}if(S==0){h=v=t[S]}f=2/3*h+1/3*t[S];n.push(f);h=f;p=2/3*v+1/3*f;e.push(p);v=p;i.push(3*f-2*p)}return{k:n,d:e,j:i}};var e=function(r){var a=20,s=a-1,t=0,u=0;var n=[],e=[],i=[];for(var h=0;h<r.length;h++){var v=r[h],f,p,l,o;t+=v;if(h>=s){t=t-u;f=t/a;e.push(f);l=h-s;u=r[l];o=r.slice(l,l+a).reduce(function(r,a){return r+Math.pow(a-f,2)},0);p=Math.sqrt(o/a);n.push(f+2*p);i.push(f-2*p)}else{n.push(-1);e.push(-1);i.push(-1)}}return{upper:n,mid:e,lower:i}};var i=function(r){var a=r[0];var s=[6,12,24],t={};for(var u=0;u<r.length;u++){var n=r[u];var e=Math.max(n-a,0),i=Math.abs(n-a);for(var h=0;h<s.length;h++){var v=s[h];if(!t.hasOwnProperty("rsi"+v)){t["lastSm"+v]=t["lastSa"+v]=0;t["rsi"+v]=[0]}else{t["lastSm"+v]=(e+(v-1)*t["lastSm"+v])/v;t["lastSa"+v]=(i+(v-1)*t["lastSa"+v])/v;if(t["lastSa"+v]!=0){t["rsi"+v].push(t["lastSm"+v]/t["lastSa"+v]*100)}else{t["rsi"+v].push(0)}}}a=n}return{rsi6:t["rsi6"],rsi12:t["rsi12"],rsi24:t["rsi24"]}};return{OBV:r,MACD:t,KDJ:n,BOLL:e,RSI:i}}();if(module){module.exports=Indicator}